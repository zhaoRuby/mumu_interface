<html>
<head><!--1366*768-->
	<title>圓夢繪館實驗－150重疊有動畫</title>
	<meta http-equiv="Content-Type" content="text/html" charset="utf-8" >
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="../js/jquery.min.js"></script>
	<link rel="stylesheet" href="./css/style.css">

<!--confirm-->
	<link rel="stylesheet" href="./css/confirm/jquery-confirm.min.css">
	<script src="./js/confirm/jquery-confirm.min.js"></script>


</head>

<body>
	<div class="bar">
		<div id="logoBar">
			<img id="logo_home" src="../img/Interface_Logo.png">
			<div id="bt_info" ><img id="logo" src="../img/Interface_MissionInfo.png"></div>
		</div>
	</div>
	<div id="container" class="container">
		<div id="div_main1" class="main1">
				<img id="main01" alt="A" class="z1" src="../img/Interface_Main01.png">
				<img id="c1-1" alt="A1" class="z2" src="../img/Interface_02_200.png">
				<img id="c1-2" alt="A2" class="z2" src="../img/Interface_03_200.png">
				<img id="c1-3" alt="A3" class="z2" src="../img/Interface_04_200.png">
				<img id="c1-4" alt="A4" class="z2" src="../img/Interface_05_200.png">
				<img id="c1-5" alt="A5" class="z2" src="../img/Interface_06_200.png">
				<img id="c1-6" alt="A6" class="z2" src="../img/Interface_07_200.png">
		</div>
		<div id="div_main2" class="main2">
				<img id="main02" alt="B" class="z1" src="../img/Interface_Main02.png">
				<img id="c2-1" alt="B1" class="z2" src="../img/Interface_09_200.png">
				<img id="c2-2" alt="B2" class="z2" src="../img/Interface_10_200.png">
				<img id="c2-3" alt="B3" class="z2" src="../img/Interface_11_200.png">
				<img id="c2-4" alt="B4" class="z2" src="../img/Interface_12_200.png">
				<img id="c2-5" alt="B5" class="z2" src="../img/Interface_13_200.png">
				<img id="c2-6" alt="B6" class="z2" src="../img/Interface_14_200.png">
		</div>
		<div id="div_main3" class="main3">
			<img id="main03" alt="C" class="z1" src="../img/Interface_Main03.png">
			<img id="c3-1" alt="C1" class="z2" src="../img/Interface_16_200.png">
			<img id="c3-2" alt="C2" class="z2" src="../img/Interface_17_200.png">
			<img id="c3-3" alt="C3" class="z2" src="../img/Interface_18_200.png">
			<img id="c3-4" alt="C4" class="z2" src="../img/Interface_19_200.png">
			<img id="c3-5" alt="C5" class="z2" src="../img/Interface_20_200.png">
		</div>
		<div id="div_main4" class="main4">
			<img id="main04" alt="D" class="z1" src="../img/Interface_Main04.png">
			<img id="c4-1" alt="D1" class="z2" src="../img/Interface_22_200.png">
			<img id="c4-2" alt="D2" class="z2" src="../img/Interface_23_200.png">
			<img id="c4-3" alt="D3" class="z2" src="../img/Interface_24_200.png">
			<img id="c4-4" alt="D4" class="z2" src="../img/Interface_25_200.png">
		</div>
	</div>
	<div id="div_backMain">
		<img id="bt_backMain" src="../img/Interface_Back.png">
	</div>


</body>

<script>

	$(document).ready(function(){
// set filename
		var today=new Date();
		var currentDateTime =
		today.getFullYear()+'Y'+
		(today.getMonth()+1)+'M'+
		today.getDate()+'D-'+
		today.getHours()+'-'+today.getMinutes()+'-'+today.getSeconds();
		var x = Math.floor((Math.random() * 1000) + 1);

		var fileName = currentDateTime+"-"+x;

/*Initial*/
		var answer="c2-1";

		$("#swiperContainer").css({"visibility":"hidden"});
		$("#bt_backChildMain").hide();
		$("#bt_backMain").hide();

/*mission description*/	
		$.alert({
			title: '任務（一）開始',
			content: '請尋找魔法奇幻內容的分類並點選'
		});		
		
	
		$(".z1").click(function(){
				var topic = $(this).attr("alt");
				// record
				            $.ajax({
				                    type :"GET",
				                    url  : "../php/saveRecord.php",
				                    data : { 
					                           mission_number : fileName+"M1",   
					                           interface_number : "E",
					                           click_object : topic                 
				                        },
				                    dataType: "text",
				                    success : function(bookInfo) {
				                    	
									}                                         
				            });

				$(".z2").click(function(){
						var subtopic = $(this).attr("alt");
						// record
			            $.ajax({
			                    type :"GET",
			                    url  : "../php/saveRecord.php",
			                    data : { 
				                           mission_number : fileName+"M1",   
				                           interface_number : "E",
				                           click_object : subtopic                 
			                        },
			                    dataType: "text",
			                    success : function(bookInfo) {
			                    	
								}                                         
			            });		
				});


		});		

/*Main01 click event*/
		$("#main01").click(function(){

			$(".z2").css({"opacity":"1"});
			$("#bt_backMain").show();
			// 其他大圓消失
			for(var i=2;i<=4;i++){
				$("#div_main"+i).css({"visibility":"hidden"});
			}
			$("#c1-1").animate({
				"margin-top":"-170px",
				"margin-left":"80px",
				"width":"200px"
			});
			$("#c1-2").animate({
				"margin-top":"-170px",
				"margin-left":"640px",
				"width":"200px"
			});
			$("#c1-3").animate({
				"margin-top":"-170px",
				"margin-left":"1200px",
				"width":"200px"
			});
			$("#c1-4").animate({
				"margin-top":"220px",
				"margin-left":"80px",
				"width":"200px"
			});
			$("#c1-5").animate({
				"margin-top":"220px",
				"margin-left":"640px",
				"width":"200px"
			});
			$("#c1-6").animate({
				"margin-top":"220px",
				"margin-left":"1200px",
				"width":"200px"
			});

			$("#main01").animate({
				"width":"100px",
				"margin-left": "-140px",
				"margin-top": "510px"
			});

			$("#main01").fadeOut();
			$("#div_backMain").fadeIn();


		});

/*Main02 click event*/
		$("#main02").click(function(){
			$(".z2").css({"opacity":"1"});
			$("#bt_backMain").show();
			// 其他大圓消失
			for(var i=1;i<=4;i++){
				if(i!=2){
					$("#div_main"+i).css({"visibility":"hidden"});
				}
			}

			$
			$("#c2-1").animate({
				"width":"200px",
				"margin-top":"-170px",
				"margin-left":"-320px"				
			});

			$("#c2-2").animate({
				"width":"200px",
				"margin-top":"-170px",
				"margin-left":"240px"
			});
			$("#c2-3").animate({
				"width":"200px",
				"margin-top":"-170px",
				"margin-left":"800px"
			});
			$("#c2-4").animate({
				"width":"200px",
				"margin-top":"220px",
				"margin-left":"-320px"
			});
			$("#c2-5").animate({
				"width":"200px",
				"margin-top":"220px",
				"margin-left":"240px"
			});
			$("#c2-6").animate({
				"width":"200px",
				"margin-top":"220px",
				"margin-left":"800px"
			});

			$("#main02").animate({
				"width":"100px",
				"margin-left": "-540px",
				"margin-top": "510px"
			});			

			$("#main02").fadeOut();
			$("#div_backMain").fadeIn();

		});

/*Main03 click event*/
		$("#main03").click(function(){
			$(".z2").css({"opacity":"1"});
			$("#bt_backMain").show();
			// 其他大圓消失
			for(var i=1;i<=4;i++){
				if(i!=3){
					$("#div_main"+i).css({"visibility":"hidden"});	 //隱藏，但保有物件位置
				}
			}

			$("#c3-1").animate({
				"width":"200px",
				"margin-top":"-170px",
				"margin-left":"-720px"				
			});

			$("#c3-2").animate({
				"width":"200px",
				"margin-top":"-170px",
				"margin-left":"-160px"
			});
			$("#c3-3").animate({
				"width":"200px",
				"margin-top":"-170px",
				"margin-left":"400px"
			});
			$("#c3-4").animate({
				"width":"200px",
				"margin-top":"220px",
				"margin-left":"-430px"
			});
			$("#c3-5").animate({
				"width":"200px",
				"margin-top":"220px",
				"margin-left":"140px"
			});

			$("#main03").animate({
				"width":"100px",
				"margin-left": "-940px",
				"margin-top": "510px"
			});			
			
			$("#main03").fadeOut();
			$("#div_backMain").fadeIn();

		});

/*Main04 click event*/
		$("#main04").click(function(){
			
			$(".z2").css({"opacity":"1"});
			$("#bt_backMain").show();
			// 其他大圓消失
			for(var i=1;i<=4;i++){
				if(i!=4){
					$("#div_main"+i).css({"visibility":"hidden"});	 //隱藏，但保有物件位置	
				}
			}

			$("#c4-1").animate({
				"width":"200px",
				"margin-top":"-170px",
				"margin-left":"-830px"				
			});

			$("#c4-2").animate({
				"width":"200px",
				"margin-top":"-170px",
				"margin-left":"-280px"
			});
			$("#c4-3").animate({
				"width":"200px",
				"margin-top":"220px",
				"margin-left":"-830px"
			});
			$("#c4-4").animate({
				"width":"200px",
				"margin-top":"220px",
				"margin-left":"-280px"
			});

			$("#main04").animate({
				"width":"100px",
				"margin-left": "-1340px",
				"margin-top": "510px"
			});			

			$("#main04").fadeOut();
			$("#div_backMain").fadeIn();

		});

/*bt_info*/
		$("#bt_info").click(function(){
			/*mission description*/		
			$.alert({
				title: '任務（一）提示',
				animation: 'scale',
				content: '請尋找魔法奇幻內容的分類',
				buttons: { "繼續任務": { action: function() {} }}
			});
		});

/*div_backMain click*/
		$("#bt_backMain").click(function(){
			$(".z2").css({"opacity":"0.5"});
			$("#bt_backMain").hide();


/*remove click event*/
		for(var i=0;i<=4;i++){
			for(var j=1;j<=6;j++){
				if(i==1||i==2){
					$("#c"+i+"-"+j).off("click");
				}
				else if(i==3){
					$("#c"+i+"-"+j).off("click");
				}
				else{
					$("#c"+i+"-"+j).off("click");				
				}
	
			}
		}

			
//還原主題位置
			for(var i=1;i<=2;i++){
				for(var j=1;j<=6;j++){
					switch(j){
						case 1:
							$("#c"+i+"-"+j).animate({
								"margin-top":"-25px",
								"margin-left":"-10px",
								"width":"150px"
							});
							break;
						case 2:
							$("#c"+i+"-"+j).animate({
								"margin-top":"-70px",
								"margin-left":"85px",
								"width":"150px"
							});	
							break;
						case 3:
							$("#c"+i+"-"+j).animate({
								"margin-top":"-20px",
								"margin-left":"200px",
								"width":"150px"
							});	
							break;
						case 4:
							$("#c"+i+"-"+j).animate({
								"margin-top":"80px",
								"margin-left":"-10px",
								"width":"150px"
							});	
							break;
						case 5:
							$("#c"+i+"-"+j).animate({
								"margin-top":"130px",
								"margin-left":"85px",
								"width":"150px"
							});	
							break;
						case 6:
							$("#c"+i+"-"+j).animate({
								"margin-top":"80px",
								"margin-left":"200px",
								"width":"150px"
							});	
							break;
					}
							
				}
			}
		
	
			$("#c3-1").animate({
				"margin-top":"0px",
				"margin-left":"-20px",
				"width":"150px"
			});
			$("#c3-2").animate({
				"margin-top":"-70px",
				"margin-left":"85px",
				"width":"150px"
			});
			$("#c3-3").animate({
				"margin-top":"0px",
				"margin-left":"200px",
				"width":"150px"
			});
			$("#c3-4").animate({
				"margin-top":"120px",
				"margin-left":"20px",
				"width":"150px"
			});
			$("#c3-5").animate({
				"margin-top":"120px",
				"margin-left":"150px",
				"width":"150px"
			});

			$("#c4-1").animate({
				"margin-top":"-50px",
				"margin-left":"-10px",
				"width":"150px"
			});
			$("#c4-2").animate({
				"margin-top":"-50px",
				"margin-left":"190px",
				"width":"150px"
			});
			$("#c4-3").animate({
				"margin-top":"120px",
				"margin-left":"-10px",
				"width":"150px"
			});
			$("#c4-4").animate({
				"margin-top":"120px",
				"margin-left":"190px",
				"width":"150px"
			});

			for(var i=1;i<=4;i++){
				$("#main0"+i).animate({
					"margin-top":"0px",
					"margin-left":"60px",
					"width":"200px"
				});				
			}

			for (var i=1; i <= 4; i++) {
				$("#main0"+i).show();
			};
			
			for(var i=1;i<=4;i++){
				$("#div_main"+i).css({"visibility":"visible"});
			}

		});

$("#logo_home").click(function(){

// record
            $.ajax({
                    type :"GET",
                    url  : "../php/saveRecord.php",
                    data : { 
	                           mission_number : fileName+"M1",   
	                           interface_number : "E",
	                           click_object : "BACKHOME"                         
                        },
                    dataType: "text",
                    success : function(bookInfo) {
                    	
					}                                         
            });

			$(".z2").css({"opacity":"0.5"});
			$("#bt_backMain").hide();


/*remove click event*/
		for(var i=0;i<=4;i++){
			for(var j=1;j<=6;j++){
				if(i==1||i==2){
					$("#c"+i+"-"+j).off("click");
				}
				else if(i==3){
					$("#c"+i+"-"+j).off("click");
				}
				else{
					$("#c"+i+"-"+j).off("click");				
				}
	
			}
		}

			
//還原主題位置
			for(var i=1;i<=2;i++){
				for(var j=1;j<=6;j++){
					switch(j){
						case 1:
							$("#c"+i+"-"+j).animate({
								"margin-top":"-25px",
								"margin-left":"-10px",
								"width":"150px"
							});
							break;
						case 2:
							$("#c"+i+"-"+j).animate({
								"margin-top":"-70px",
								"margin-left":"85px",
								"width":"150px"
							});	
							break;
						case 3:
							$("#c"+i+"-"+j).animate({
								"margin-top":"-20px",
								"margin-left":"200px",
								"width":"150px"
							});	
							break;
						case 4:
							$("#c"+i+"-"+j).animate({
								"margin-top":"80px",
								"margin-left":"-10px",
								"width":"150px"
							});	
							break;
						case 5:
							$("#c"+i+"-"+j).animate({
								"margin-top":"130px",
								"margin-left":"85px",
								"width":"150px"
							});	
							break;
						case 6:
							$("#c"+i+"-"+j).animate({
								"margin-top":"80px",
								"margin-left":"200px",
								"width":"150px"
							});	
							break;
					}
							
				}
			}
		
	
			$("#c3-1").animate({
				"margin-top":"0px",
				"margin-left":"-20px",
				"width":"150px"
			});
			$("#c3-2").animate({
				"margin-top":"-70px",
				"margin-left":"85px",
				"width":"150px"
			});
			$("#c3-3").animate({
				"margin-top":"0px",
				"margin-left":"200px",
				"width":"150px"
			});
			$("#c3-4").animate({
				"margin-top":"120px",
				"margin-left":"20px",
				"width":"150px"
			});
			$("#c3-5").animate({
				"margin-top":"120px",
				"margin-left":"150px",
				"width":"150px"
			});

			$("#c4-1").animate({
				"margin-top":"-50px",
				"margin-left":"-10px",
				"width":"150px"
			});
			$("#c4-2").animate({
				"margin-top":"-50px",
				"margin-left":"190px",
				"width":"150px"
			});
			$("#c4-3").animate({
				"margin-top":"120px",
				"margin-left":"-10px",
				"width":"150px"
			});
			$("#c4-4").animate({
				"margin-top":"120px",
				"margin-left":"190px",
				"width":"150px"
			});

			for(var i=1;i<=4;i++){
				$("#main0"+i).animate({
					"margin-top":"0px",
					"margin-left":"60px",
					"width":"200px"
				});				
			}

			for (var i=1; i <= 4; i++) {
				$("#main0"+i).show();
			};
			
			for(var i=1;i<=4;i++){
				$("#div_main"+i).css({"visibility":"visible"});
			}
});



// bind click event on subTopic
		for(var i=0;i<=4;i++){
			$("#main0"+i).on('click',function(){
					/*sub topic click and check answer*/
					for(var i=0;i<=4;i++){
						for(var j=1;j<=6;j++){
							if(i==1||i==2){
								$("#c"+i+"-"+j).click(function(){
									if($(this).attr("id")==answer){
										$.alert({
											title: '任務（一）完成',
											content: '恭喜你完成任務!',
											buttons: { "下一步": { action: function() {
												document.location.href="./mission1-2.html";
											} }}
										});
									}
									else{
										$.alert({
											theme: 'my-theme',
											title: '點選錯誤',
											content: '請尋找魔法奇幻內容的分類',
											buttons: { "繼續任務": { action: function() {} }}
										});							
									}
								});
							}
							else if(i==3){
								$("#c"+i+"-"+j).click(function(){
									if($(this).attr("id")==answer){
										$.alert({
											title: '任務（一）完成',
											content: '恭喜你完成任務!',
											buttons: { "下一步": { action: function() {
												document.location.href="./mission1-2.html";
											} }}
										});
									}
									else{
										$.alert({
											theme: 'my-theme',
											title: '點選錯誤',
											content: '請尋找魔法奇幻內容的分類',
											buttons: { "繼續任務": { action: function() {}}}
										});							
									}
								});
							}
							else{
								$("#c"+i+"-"+j).click(function(){
									if($(this).attr("id")==answer){
										$.alert({
											title: '任務（一）完成',
											content: '恭喜你完成任務!',
											buttons: { "下一步": { action: function() {
												document.location.href="./mission1-2.html";
											} }}
										});
									}
									else{
										$.alert({
											theme: 'my-theme',
											title: '點選錯誤',
											content: '請尋找魔法奇幻內容的分類並點選',
											buttons: { "繼續任務": { action: function() {}}}
										});							
									}
								});					
							}
				
						}
					}
			});
		}
		



	});

</script>

</html>